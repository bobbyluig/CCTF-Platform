function objsort(t,e){t.sort(function(t,a){return t[e]>a[e]?1:a[e]>t[e]?-1:0})}function table(t){$("table tbody").empty(),$(t).each(function(t,e){$("#self b").length&&e.id==selfid&&($("#self b").eq(0).text(e.team),$("#self b").eq(1).text("#"+e.rank),$("#self b").eq(2).text(e.score)),tr=$("<tr>").data("id",e.id).appendTo($("tbody")),$("<td>").appendTo(tr).text(e.rank),$("<td>").appendTo(tr).text(e.team),$("<td>").appendTo(tr).text(e.school),$("<td>").appendTo(tr).text(e.score)})}var cache=[],last_th="",selfid=-1;$(document).ready(function(){$(".button-collapse").sideNav(),$(".modal-trigger").leanModal(),$.ajax({type:"GET",url:"/api/scoreboard/",success:function(t){return 0==t.success?(Materialize.toast(t.message,3e3),!1):(cache=t,selfid=cache.pop(),objsort(cache,"rank"),table(cache),$("table th").first().addClass("green lighten-3"),$(".valign-wrapper").hide(),$("#self").show(),void $("table").show())}}),$("body").on("click","tbody tr",function(){link=$(this).data("id"),window.location.href="/team/?t="+encodeURIComponent(link)}),$("body").on("click","table th",function(){$(this).siblings().removeClass("green lighten-3"),$(this).addClass("green lighten-3"),last_th===$(this).data("sort")?cache.reverse():objsort(cache,$(this).data("sort")),last_th=$(this).data("sort"),table(cache)})});