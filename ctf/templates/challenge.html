{% extends "base.html" %}

{% block title %}Challenges - ~CTF{% endblock %}

{% block main %}
		<main>
			<div class="container">
				<h2 class="center green-text">Challenges</h2>
				<div class="row">
					<p class="center">Your team has solved <b id="count">0</b> challenge(s).</p>
				</div>
				
				<div class="row">
					<div class="col s12">
						<ul class="tabs z-depth-1">
							<li class="tab col s6"><a class="active" href="#chal-view">Challenge</a></li>
							<li class="tab col s6"><a href="#solve-view">Solve</a></li>
						</ul>
					</div>
				</div>
				
				<br>
	
				<div id="chal-view">
					<div class="valign-wrapper">
						<div class="progress">
							<div class="indeterminate"></div>
						</div>
					</div>
					<ul class="collapsible z-depth-2" data-collapsible="accordion" id="data" style="display:none">
					</ul>
					<br>
				</div>
			
				<div id="solve-view">
					<div class="row">
						<div class="col s12 m10 l8 offset-m1 offset-l2">
							<div class="card z-depth-2">
								<div class="card-content">
									<span class="card-title black-text" id="title">Challenges</span>
									<div class="black-text" id="description">Select a challenge to get started!</div>
								</div>
								<div class="card-action">
									<span class="black-text">Solves: <span id="solves">0</span></span>
								</div>
							</div>
						</div>
					</div>
					
					<form class="col s12" action="/api/challenges/submit/">
						<div class="row">
							<div class="input-field col s12 m10 l8 offset-m1 offset-l2">
								<i class="mdi-content-flag prefix"></i>
								<input id="icon_prefix" name="flag" type="text" class="validate"></input>
								<label for="icon_prefix">Flag</label>
							</div>
						</div>
						<input type="hidden" name="id" value="0">
						<div class="row">
							<div class="col s12 center">
								<button class="btn waves-effect waves-light" type="submit" name="action">Submit
									<i class="mdi-content-send right"></i>
								</button>
							</div>
						</div>
						{% csrf_token %}
					</form>
				</div>
			</div>
		</main>
		
		<div id="helpmodal" class="modal">
			<div class="modal-content">
				<h4>Challenges Help</h4>
				<p>This is the area where you will spend a majority of your time. Please peruse the <a target="_blank" href="~">read me</a> for more information! Double click/tap the challenge tab to force refresh challenges. Something seriously messed up about the challenge page? - <a href="#" id="clear-cache">clear persistent cache</a>.</p>
				<br>
				<h5>Sort Order</h5>
				<p>
					<input name="sortorder" type="radio" id="order1" data-sort="title"/>
					<label for="order1" class="black-text">Alphabetical</label>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<input name="sortorder" type="radio" id="order2" data-sort="score"/>
					<label for="order2" class="black-text">Score/Value</label>
				</p>
			</div>
			<div class="modal-footer">
				<button class="waves-effect waves-light btn modal-action modal-close">Got it</button>
			</div>
		</div>			
{% endblock %}

{% block scripts %}
		<script type="text/javascript" src="{{STATIC_URL}}js/challenge.js"></script>
{% endblock %}
